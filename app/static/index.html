<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ML Ops showcase for live prediction of assets</title>
    <link rel="stylesheet" href="static/styles.css">
    <script src="/static/script.js" defer></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    <div class="container">
        <h1>ML Ops showcase for live prediction of assets</h1>
        <p>
            This project is designed as a fully containerized MLOps pipeline deployed on an AWS EC2 instance. 
            You can choose a stock symbol and view the available models in the database. 
            If no models are found, you can train an RNN or MLP model on the minute-by-minute closing prices. 
            Once the actual price reaches the forecast length of your model, the Mean Absolute Error (MAE) 
            is automatically calculated and continuously updated.
        </p>
        
        <p>
            The project is utilised using javaScript,FastApi, Pytorch and Docker structured to easily expand the pipeline with additional model architectures 
            and more advanced training configurations. The source code and Documentation is available 
            <a href="https://github.com/Philipp-Ro/timeseries_forcast_in_finance_MLops">here</a>.
        </p>
        
        <p>
            Please note that since this is a live prediction, the market for your chosen asset must be 
            open at the time of prediction.
        </p>

        <form id="modelForm">
            <div class="form-group">
                <label for="ticker">Ticker Symbol:</label>
                <input type="text" id="ticker" name="ticker" required>
            </div>
            
            <div id="modelListContainer" class="model-list-group">
                <!-- Model list will be added here dynamically -->
            </div>

            <button id="predictButton" type="button">Predict</button>
            <button id="trainNewModelButton" type="button" >Train New Model</button>
        </form>
    </div>
<!-- Waiting Screen Modal -->
<div id="waitingScreen" class="modal" style="display: none;">
    <div class="modal-content">
      <p>Training the Model, please wait...</p>
      <!-- You can include a loading spinner here if desired -->
    </div>
  </div>

    <!-- The Modal -->
    <div id="trainModelModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Train New Model</h2>
            <form id="trainModelForm">
                <div class="form-group">
                    <label for="train_ticker">Ticker Symbol:</label>
                    <input type="text" id="train_ticker" name="train_ticker" required>
                </div>

                <div class="form-group">
                    <label for="model_type">Model Type:</label>
                    <select id="model_type" name="model_type">
                        <option value="MLP">MLP</option>
                        <option value="RNN">RNN</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="num_epochs">Number of Epochs:</label>
                    <input type="number" id="num_epochs" name="num_epochs" required>
                </div>
                <div class="form-group">
                    <label for="forecast_len">Forecast Length:</label>
                    <input type="number" id="forecast_len" name="forecast_len" required>
                </div>
                <button type="submit">Train Model</button>
            </form>
        </div>
    </div>

    <div id="plotly-div"></div>
</body>
</html>


        